id: com.tauri.devthom

runtime: org.gnome.Platform
runtime-version: "45"
sdk: org.gnome.Sdk

command: tauri-app
finish-args:
  - --socket=wayland        # Permission needed to show the window
  - --socket=fallback-x11   # Permission needed to show the window
  - --device=dri            # OpenGL, not necessary for all projects

modules:
  - name: binary
    buildsystem: simple
    sources:
      - type: file
        path: ../tauri-app/src-tauri/target/release/bundle/deb/tauri-app_0.0.0_amd64/data/usr/bin/tauri-app
        # This path points to the binary file which was created in the .deb bundle.
        # Tauri also creates a folder which corresponds to the content of the unpacked .deb.
    build-commands:
      - "install -Dm755 tauri-app /app/bin/tauri-app"
